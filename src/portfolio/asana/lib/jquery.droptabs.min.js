!function(e){e.fn.droptabs=function(t){var o=e.extend({dropdownSelector:"li.dropdown",dropdownMenuSelector:"ul.dropdown-menu",dropdownTabsSelector:"li",dropdownCaretSelector:"b.caret",visibleTabsSelector:">li:not(.dropdown)",developmentId:"dt-devInfo",autoArrangeTabs:!0,pullDropdownRight:!0,development:!1},t);return this.each(function(){var t=e(this),n=e(o.dropdownSelector,this),r=e(o.dropdownMenuSelector,n),i=e(">a",n).clone(),a=e(o.dropdownCaretSelector,n);e(o.dropdownCaretSelector,i).remove(),o.pullDropdownRight&&e(n).addClass("pull-right");var s=function(){return e(o.dropdownTabsSelector,r)},d=function(){return e(o.visibleTabsSelector,t)};function l(){var o=s().first().clone().appendTo(t).css("position","fixed"),n=e(o).outerWidth();return e(o).remove(),n}function c(){var t;e(">a",n).html((t="Dropdown",e(n).hasClass("active")?t=e(">li.active>a",r).html():i.html().length>0&&(t=i.html()),(t=e.trim(t))+" "+a.prop("outerHTML")))}function h(t){e("a",e(t)).on("show.bs.tab",function(t){e(t.relatedTarget).parent().removeClass("active")}),e("a",e(t)).on("shown.bs.tab",function(e){c()})}function u(){e(s()).filter(".active").length>0?e(n).addClass("active"):e(n).removeClass("active"),c()}if(o.development){e("body").append('<div class="alert alert-success" id="'+o.developmentId+'"></div>');var p=e("#"+o.developmentId);function v(t,o){var n=t.replace(/\s+/g,"-").toLowerCase();return e("#"+n).length>0?e("#"+n).text(t+": "+o):e("#dt-devInfo").append('<div id="'+n+'">'+t+": "+o+"</div>"),!0}e(p).css("position","fixed").css("right","20px").css("bottom","20px")}var f=function(){var t=0;return e(d()).each(function(o){t+=parseInt(e(this).outerWidth(),10)}),t+=parseInt(e(n).outerWidth(),10)},w=function(){return t.outerWidth()-f()},b=function(){if(o.development&&(v("Container width",t.outerWidth()),v("Visible tabs width",f()),v("Available space",w()),v("First hidden",l())),w()<0){var i=w();e(d().get().reverse()).each(function(t){if(e(this).hasClass("always-visible")||(e(this).prependTo(r),i+=e(this).outerWidth()),i>=0)return!1})}if(w()>l()){i=w();e(s()).each(function(o){if(n=e(this).clone().appendTo(t).css("position","fixed"),r=e(n).outerWidth(),e(n).remove(),!(r<i)||e(this).hasClass("always-dropdown"))return!1;var n,r;e(this).appendTo(t),i-=e(this).outerWidth()}),o.pullDropdownRight||e(n).is(":last-child")||e(n).detach().insertAfter(t.find("li:last-child"))}s().length<=0?n.hide():n.show()};if(o.autoArrangeTabs){var m=[];e(d().get().reverse()).each(function(t){e(this).hasClass("always-visible")&&(m.push(e(this)),e(this).remove())});for(var g=0;g<m.length;g++)t.prepend(m[g])}return e(document).ready(function(){b(),s().each(function(){h(e(this))}),d().each(function(){h(e(this))}),u()}),e(window).resize(function(){b(),u()}),this})}}(jQuery);