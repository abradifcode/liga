!function(e){"use strict";var n={defaults:{trigger:".beefup__head",content:".beefup__body",openClass:"is-open",animation:"slide",openSpeed:200,closeSpeed:200,scroll:!1,scrollSpeed:400,scrollOffset:0,openSingle:!1,stayOpen:null,selfClose:!1,hash:!0,breakpoints:null,onInit:function(){},onOpen:function(){},onClose:function(){},onScroll:function(){}}};n.methods={getVars:function(t){var o=e.extend(!0,{},t.data("beefup"),t.data("beefup-options"));return o.breakpoints&&(o=n.methods.getResponsiveVars(o)),o},getResponsiveVars:function(n){var t=window.innerWidth||e(window).width();return n.breakpoints.sort(function(e,n){return e.breakpoint<n.breakpoint?-1:e.breakpoint>n.breakpoint?1:0}),e.each(n.breakpoints,function(o,s){t>s.breakpoint&&(n=e.extend({},n,s.settings))}),n},animation:function(e,n,t,o){switch(e){case"slideDown":n.slideDown(t,o);break;case"slideUp":n.slideUp(t,o);break;case"fadeIn":n.fadeIn(t,o);break;case"fadeOut":n.fadeOut(t,o);break;case"show":n.show(t,o);break;case"hide":n.hide(t,o)}},getStayOpen:function(e,n){var t;return"number"==typeof n?t=e.eq(n):"string"==typeof n&&(t=e.filter(n)),t},selfClose:function(t,o){e(document).on("click",function(s){var i;e(s.target).closest(t).length||(i=t.filter("."+o.openClass),null!==o.stayOpen&&(i=i.not(n.methods.getStayOpen(t,o.stayOpen))),i.length&&t.close(i))})},hash:function(n,t){var o=function(){var e=n.filter(window.location.hash);e.length&&!e.hasClass(t.openClass)&&n.click(e)};o(),e(window).on("hashchange",o)}},e.fn.beefup=function(t){var o=this;return this.open=function(t,s){return t&&t.length||(t=o),t.each(function(){var t=e(this),o=n.methods.getVars(t),i=t.find(o.content+":first"),a="slide"===o.animation?"slideDown":"fade"===o.animation?"fadeIn":"show";t.addClass(o.openClass),n.methods.animation(a,i,o.openSpeed,function(){i.css("overflow",""),s&&"function"==typeof s&&s(),o.onOpen&&"function"==typeof o.onOpen&&o.onOpen(t)})}),o},this.close=function(t,s){return t&&t.length||(t=o),t.each(function(){var t=e(this),o=n.methods.getVars(t),i=t.find(o.content+":first"),a="slide"===o.animation?"slideUp":"fade"===o.animation?"fadeOut":"hide";n.methods.animation(a,i,o.closeSpeed,function(){t.removeClass(o.openClass),i.css("overflow",""),s&&"function"==typeof s&&s(),o.onClose&&"function"==typeof o.onClose&&o.onClose(t)})}),o},this.scroll=function(t){var s=n.methods.getVars(t);return e("html, body").animate({scrollTop:t.offset().top+s.scrollOffset},s.scrollSpeed).promise().done(function(){s.onScroll&&"function"==typeof s.onScroll&&s.onScroll(t)}),o},this.click=function(e){var t=n.methods.getVars(e);return t.openSingle&&(null!==t.stayOpen?o.close(o.not(e).not(n.methods.getStayOpen(o,t.stayOpen))):o.close(o.not(e))),e.hasClass(t.openClass)?o.close(e):o.open(e,function(){t.scroll&&o.scroll(e)}),o},this.each(function(s,i){var a=e(i),l=e.extend({},n.defaults,t,a.data("beefup-options"));a.data("beefup")||(a.data("beefup",l),l.breakpoints&&(l=n.methods.getResponsiveVars(l)),null!==l.stayOpen&&a.is(n.methods.getStayOpen(o,l.stayOpen))&&a.addClass(l.openClass),a.not("."+l.openClass).find(l.content+":first").hide(),l.onInit&&"function"==typeof l.onInit&&l.onInit(a),a.on("click",l.trigger+":first",function(e){e.preventDefault(),o.click(a)}),0===s&&(l.hash&&n.methods.hash(o,l),l.selfClose&&n.methods.selfClose(o,l)))})}}(jQuery);