function _extends(){return(_extends=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t}).apply(this,arguments)}var CustomSelect=function(t){var i={block:"custom-select",hideCallback:!1,includeValue:!1,keyboard:!0,modifier:!1,placeholder:"<span style='color: #3a4656;'>Choice</span>",search:!1,showCallback:!1,transition:100,autocomplete:!1},o=function(){function o(i,o){this._$select=t(i),this._options=o,this._activeModifier=this._options.block+"--active",this._dropupModifier=this._options.block+"--dropup",this._keydown=this._keydown.bind(this),this._dropup=this._dropup.bind(this),this._outside=this._outside.bind(this),this._options.autocomplete&&(this._options.search=!0,console.warn("Option `autocomplete` is deprecated since v1.3.0! Please, use `search` instead.")),this._init()}var e=o.prototype;return e._init=function(){var i=this;this._$element=t('<div class="'+this._options.block+'">\n           <button class="'+this._options.block+"__option "+this._options.block+'__option--value" type="button"></button>\n           <div class="'+this._options.block+'__dropdown" style="display: none;"></div>\n         </div>'),this._$select.hide().after(this._$element),this._options.modifier&&this._$element.addClass(this._options.modifier),this._$values=this._$select.find("option"),this._values=[],t.each(this._$values,function(o,e){var s=t(e).text().trim();i._values.push(s)}),this._$value=this._$element.find("."+this._options.block+"__option--value"),this._options.placeholder&&(this._$select.find("[selected]").length?this._options.placeholder=!1:(this._$value.html(this._options.placeholder),this._$select.prop("selectedIndex",-1))),this._$dropdown=this._$element.find("."+this._options.block+"__dropdown"),t.each(this._values,function(o,e){var s=i._$values.eq(o).attr("class"),n=t('<button class="'+i._options.block+'__option" type="button">'+e+"</button>");e===i._$select.find(":selected").text().trim()?(i._$value.text(e).addClass(s).data("class",s),(i._options.includeValue||i._options.placeholder)&&(n.addClass(s),i._$dropdown.append(n))):(n.addClass(s),i._$dropdown.append(n))}),this._$options=this._$dropdown.find("."+this._options.block+"__option"),this._options.search&&this._search(),this._$value.one("click",function(t){i._show(t)}),this._$options.length||this._$value.prop("disabled",!0),this._$options.on("click",function(t){i._select(t)})},e._show=function(i){var o=this;i.preventDefault(),this._dropup(),t(window).on("resize scroll",this._dropup),this._$element.addClass(this._activeModifier),this._$dropdown.slideDown(this._options.transition,function(){o._options.search&&o._$input.focus(),"function"==typeof o._options.showCallback&&o._options.showCallback.call(o._$element[0])}),setTimeout(function(){var i="ontouchstart"in document.documentElement?"touchstart":"click";t(window).on(i,o._outside)},0),this._$value.one("click",function(t){t.preventDefault(),o._hide()}),this._options.keyboard&&(this._options.index=-1,t(window).on("keydown",this._keydown))},e._hide=function(){var i=this;this._$dropdown.slideUp(this._options.transition,function(){i._$element.removeClass(i._activeModifier).removeClass(i._dropupModifier),"function"==typeof i._options.hideCallback&&i._options.hideCallback.call(i._$element[0]),t(window).off("touchstart click",i._outside).off("resize scroll",i._dropup),i._$value.off("click").one("click",function(t){i._show(t)})}),this._options.keyboard&&(this._$options.blur(),t(window).off("keydown",this._keydown)),this._options.search&&(this._$options.show(),this._$input.val("").blur(),this._$wrap.scrollTop(0))},e._select=function(i){var o=this;i.preventDefault();var e=t(i.currentTarget).text().trim(),s=this._values.concat();if(this._$value.text(e).removeClass(this._$value.data("class")),this._$values.prop("selected",!1),t.each(s,function(i,n){o._options.includeValue||n!==e||s.splice(i,1),t.each(o._$values,function(i,s){var n=t(s);if(n.text().trim()===e){var l=n.attr("class");n.prop("selected",!0),o._$value.addClass(l).data("class",l)}})}),this._hide(),!this._options.includeValue){if(this._$options.length>s.length){var n=this._$options.eq(s.length);n.remove(),this._$options=this._$options.not(n),this._$options.length||this._$value.prop("disabled",!0)}t.each(this._$options,function(i,e){var n=t(e);n.text(s[i]),n.attr("class",o._options.block+"__option"),t.each(o._$values,function(){var o=t(this);o.text().trim()===s[i]&&n.addClass(o.attr("class"))})})}void 0!==i.originalEvent&&this._$select.trigger("change")},e._search=function(){var i=this;this._$input=t('<input class="'+this._options.block+'__input" autocomplete="off">'),this._$dropdown.prepend(this._$input),this._$options.wrapAll('<div class="'+this._options.block+'__option-wrap"></div>'),this._$wrap=this._$element.find("."+this._options.block+"__option-wrap"),this._$input.on("focus",function(){i._options.index=-1}),this._$input.on("keyup",function(){var o=i._$input.val().trim();i._$wrap.scrollTop(0),o.length?setTimeout(function(){o===i._$input.val().trim()&&t.each(i._$options,function(i,e){var s=t(e),n=-1!==s.text().trim().toLowerCase().indexOf(o.toLowerCase());s.toggle(n)})},300):i._$options.show()})},e._dropup=function(){var i=this._$element[0].getBoundingClientRect().bottom,o=t(window).height()-i<this._$dropdown.height();this._$element.toggleClass(this._dropupModifier,o)},e._outside=function(i){var o=t(i.target);o.parents().is(this._$element)||o.is(this._$element)||this._hide()},e._keydown=function(t){var i=this._$options.filter(":visible");switch(t.keyCode){case 40:t.preventDefault(),i.eq(this._options.index+1).length?this._options.index+=1:this._options.index=0,i.eq(this._options.index).focus();break;case 38:t.preventDefault(),i.eq(this._options.index-1).length&&this._options.index-1>=0?this._options.index-=1:this._options.index=i.length-1,i.eq(this._options.index).focus();break;case 13:case 32:if(!this._$input||!this._$input.is(":focus")){t.preventDefault();var o=this._$options.add(this._$value).filter(":focus");o.trigger("click"),o.is(this._$value)||this._$select.trigger("change"),this._$value.focus()}break;case 27:t.preventDefault(),this._hide(),this._$value.focus()}},o._jQueryPlugin=function(e){return this.each(function(){var s=t(this),n=s.data("custom-select"),l=_extends({},i,"object"==typeof e&&e);n||(n=new o(this,l),s.data("custom-select",n))})},o}();t.fn.customSelect=o._jQueryPlugin,t.fn.customSelect.noConflict=function(){return t.fn.customSelect}}($);